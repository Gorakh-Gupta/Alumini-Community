{"ast":null,"code":"var _jsxFileName = \"/Users/abhishekswaraj/Desktop/Alumni-System/client/src/components/Post.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect, useContext } from 'react';\nimport AuthContext from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Post(props) {\n  _s();\n\n  const id = props.match.params.id;\n  const [post, setPost] = useState({});\n  const {\n    user\n  } = useContext(AuthContext);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    async function fecthPost() {\n      await axios.get('http://localhost:8080/post/' + id).then(data => console.log(data.data)).catch(e => console.log(e));\n    }\n\n    fecthPost();\n  }, []);\n\n  const likehandler = async id => {\n    await axios.get('http://localhost:8080/like/' + id).then(data => setPost(data.data[0])).catch(e => console.log(e));\n  };\n\n  const unlikehandler = async id => {\n    await axios.get('http://localhost:8080/unlike/' + id).then(data => setPost(data.data[0])).catch(e => console.log(e));\n  };\n\n  const commenthandler = async id => {\n    await axios.put('http://localhost:8080/addcomment/' + id, {\n      comment\n    }).then(data => setPost(data.data[0])).catch(e => console.log(e));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: post && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"400px\",\n        padding: \"5px\",\n        border: \"2px solid black\"\n      },\n      children: [post.user.name, /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: post.time.slice(11, 16)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: post.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 20\n      }, this), post.likes.includes(user._id) ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => unlikehandler(post._id),\n        children: \"Unlike\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 54\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => likehandler(post._id),\n        children: \"Like\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this), post.likes.length, \" likes \", post.comments.length, \" comments\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          commenthandler(post._id);\n          e.preventDefault();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: comment,\n          onChange: e => setComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Add comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 22\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Post, \"x5BC3Zo2ECURpL7upZjA2RwvNlM=\");\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/abhishekswaraj/Desktop/Alumni-System/client/src/components/Post.js"],"names":["axios","React","useState","useEffect","useContext","AuthContext","Post","props","id","match","params","post","setPost","user","comment","setComment","fecthPost","get","then","data","console","log","catch","e","likehandler","unlikehandler","commenthandler","put","width","padding","border","name","time","slice","content","likes","includes","_id","length","comments","preventDefault","target","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React ,{useState, useEffect,useContext} from 'react'\nimport AuthContext from '../context/AuthContext';\n\nfunction Post(props) {\n    const id=props.match.params.id;\n    const [post, setPost] = useState({});\n    const {user}=useContext(AuthContext);\n    const [comment, setComment] = useState('');\n    useEffect(() => {\n        async function fecthPost()\n        {\n            await axios.get('http://localhost:8080/post/'+id)\n            .then((data)=>console.log(data.data))\n            .catch((e)=>console.log(e));\n        }\n        fecthPost();\n    }, [])\n    const likehandler=(async (id)=>{\n        await axios.get('http://localhost:8080/like/'+id)\n        .then((data)=>setPost(data.data[0]))\n        .catch((e)=>console.log(e));\n    })\n    const unlikehandler=(async (id)=>{\n        await axios.get('http://localhost:8080/unlike/'+id)\n        .then((data)=>setPost(data.data[0]))\n        .catch((e)=>console.log(e));\n    })\n    const commenthandler=(async (id)=>{\n            await axios.put('http://localhost:8080/addcomment/'+id,{comment})\n            .then((data)=>setPost(data.data[0]))\n            .catch(e=>console.log(e))\n    })\n    return (\n        <div>\n            {post && <div style={{width:\"400px\",padding:\"5px\",border:\"2px solid black\"}}>\n                    {post.user.name}\n                    <h6>{post.time.slice(11,16)}</h6>\n                   <h4>{post.content}</h4>\n                   {\n                       post.likes.includes(user._id)?<button onClick={()=>unlikehandler(post._id)}>Unlike</button>\n                       :\n                       <button onClick={()=>likehandler(post._id)}>Like</button> \n                   }\n                    <br></br>\n                   {post.likes.length} likes {post.comments.length} comments\n                   <br></br>\n                   {/* {post.comments.map((comment)=>{\n                       return ({comment.roll} {Comment.comment});\n                   })}  */}\n                    <form onSubmit={(e)=>{\n                       commenthandler(post._id)\n                       e.preventDefault();\n                       }\n                       }>\n                        <input type=\"text\" value={comment} onChange={(e)=>setComment(e.target.value)}></input>\n                        <button type=\"submit\">Add comment</button>\n                   </form>\n                   </div>}\n        </div>\n    )\n}\n\nexport default Post\n"]},"metadata":{},"sourceType":"module"}