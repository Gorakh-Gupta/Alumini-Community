{"ast":null,"code":"var _jsxFileName = \"/Users/abhishekswaraj/Desktop/Alumni-System/client/src/components/Community.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport userEvent from '@testing-library/user-event';\nimport axios from 'axios';\nimport AddPost from './AddPost';\nimport authContext from '../context/AuthContext';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Community() {\n  _s();\n\n  const {\n    user\n  } = useContext(authContext);\n  const [posts, setPosts] = useState([]);\n  const [comment, setComment] = useState('');\n  useEffect(async () => {\n    await axios.get('http://localhost:8080/allposts').then(data => setPosts(data.data.reverse())).catch(e => console.log(e));\n  }, [posts]);\n\n  const likehandler = async id => {\n    await axios.get('http://localhost:8080/like/' + id).then(data => setPosts(data.data.reverse())).catch(e => console.log(e));\n  };\n\n  const unlikehandler = async id => {\n    await axios.get('http://localhost:8080/unlike/' + id).then(data => setPosts(data.data.reverse())).catch(e => console.log(e));\n  };\n\n  const commenthandler = async id => {\n    await axios.put('http://localhost:8080/addcomment/' + id, {\n      comment\n    }).then(data => {\n      setPosts(data.data.reverse());\n      setComment('');\n    }).catch(e => console.log(e));\n  };\n\n  const deletehandler = async id => {\n    await axios.delete('http://localhost:8080/delete/' + id).then(data => setPosts(data.data)).catch(e => console.log(e));\n  };\n\n  return (\n    /*#__PURE__*/\n    // style={{marginLeft:500,marginTop:20}}\n    _jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(AddPost, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 12\n      }, this), posts.length === 0 && /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Loading Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 33\n      }, this), posts.map(post => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"400px\",\n            padding: \"5px\",\n            border: \"2px solid black\"\n          },\n          children: [post.user.name, /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: post.time.slice(11, 16)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: post.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 20\n          }, this), post.likes.includes(user._id) ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => unlikehandler(post._id),\n            children: \"Unlike\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 54\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => likehandler(post._id),\n            children: \"Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this), post.likes.length, \" likes \", post.comments.length, \" comments\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: e => {\n              commenthandler(post._id);\n              e.preventDefault();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: comment,\n              onChange: e => setComment(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Add comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => deletehandler(post._id),\n            children: \"Delete Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 20\n        }, this) //                 <div>\n        //       <div style={{display: 'flex',  justifyContent:'center', alignItems:'flex-start', height: '85vh',marginTop:\"20px\",backgroundColor:\"wheat\"}}>\n        //       <div class=\"card\" style={{width:\"50%\"}}>\n        //           <div class=\"card-header\">\n        //                <h5>{post.user.name} </h5>\n        //                <small class=\"text-muted\">{post.time.slice(11,16)}</small>\n        //            </div>\n        //       <div class=\"card-body\">\n        //           <h5 class=\"card-title\">{post.content}</h5>\n        //           {/* <p class=\"card-text\">I get palced in Google. Now I am very rich so I will gift a brand new FORTUNER to Tanmay and also I will give him job offer in my team</p> */}\n        //           <br/>\n        //           <span  style={{margin:'10px'}}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"gray\" class=\"bi bi-hand-thumbs-up-fill\" viewBox=\"0 0 16 16\" onClick={()=>likehandler(post._id)}>\n        //           <path d=\"M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a9.84 9.84 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.163 3.163 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.82 4.82 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z\"/>\n        //           </svg></span>\n        //           <a href=\"\" style={{marginLeft:'30px'}}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"gray\" class=\"bi bi-hand-thumbs-down-fill\" viewBox=\"0 0 16 16\">\n        //           <path d=\"M6.956 14.534c.065.936.952 1.659 1.908 1.42l.261-.065a1.378 1.378 0 0 0 1.012-.965c.22-.816.533-2.512.062-4.51.136.02.285.037.443.051.713.065 1.669.071 2.516-.211.518-.173.994-.68 1.2-1.272a1.896 1.896 0 0 0-.234-1.734c.058-.118.103-.242.138-.362.077-.27.113-.568.113-.856 0-.29-.036-.586-.113-.857a2.094 2.094 0 0 0-.16-.403c.169-.387.107-.82-.003-1.149a3.162 3.162 0 0 0-.488-.9c.054-.153.076-.313.076-.465a1.86 1.86 0 0 0-.253-.912C13.1.757 12.437.28 11.5.28H8c-.605 0-1.07.08-1.466.217a4.823 4.823 0 0 0-.97.485l-.048.029c-.504.308-.999.61-2.068.723C2.682 1.815 2 2.434 2 3.279v4c0 .851.685 1.433 1.357 1.616.849.232 1.574.787 2.132 1.41.56.626.914 1.28 1.039 1.638.199.575.356 1.54.428 2.591z\"/>\n        //           </svg></a>\n        //           <br/>\n        //           <small class=\"text-muted\" style={{marginLeft:'15px',paddingTop:'10px', textDecorationColor:\"gray\"}}>{post.likes.length}</small>\n        //           <small class=\"text-muted\"style={{marginLeft:'56px',paddingTop:'10px', textDecorationColor:\"gray\"}}>0</small>\n        //       </div>\n        //       <div style={{background: \"#f0f0f0\",paddingTop:\"7px\",paddingBottom:\"7px\"}}>\n        //       <span class=\"card-text\"style={{marginLeft:'20px',marginRight:'15px'}}>Comments</span>\n        //       <span class=\"card-text\" style={{marginRight:'510px'}}>{post.comments.length}</span>\n        //       <a data-bs-toggle=\"collapse\" href=\"#collapseExample\" aria-expanded=\"false\" aria-controls=\"collapseExample\">\n        //       <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-chevron-expand\" >\n        //         <path fill-rule=\"evenodd\" d=\"M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z\"/>\n        //       </svg>\n        //       </a>\n        //       <div class=\"collapse\" id=\"collapseExample\">\n        //          <div class=\"card card-body\" style={{overflowY:\"scroll\", height:\"30vh\"}}>\n        //             Remember to keep comments respectful\n        //             <div class=\"mb-3\">\n        //              <label for=\"exampleFormControlInput1\" class=\"form-label\"></label>\n        //              <div style={{\"marginTop\":\"5px\",\"marginBottom\":\"15px\"}}>\n        //              <button type=\"button\" class=\"btn btn-light\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" data-bs-whatever=\"@mdo\" >\n        //              Add a Comment\n        //              </button>\n        //              </div>\n        //              <div>\n        //                {post.comments.map((comment)=>{\n        //                    return (\n        //                         <>\n        //                     <hr/>\n        //                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-emoji-sunglasses\" viewBox=\"0 0 16 16\">\n        //                       <path d=\"M4.968 9.75a.5.5 0 1 0-.866.5A4.498 4.498 0 0 0 8 12.5a4.5 4.5 0 0 0 3.898-2.25.5.5 0 1 0-.866-.5A3.498 3.498 0 0 1 8 11.5a3.498 3.498 0 0 1-3.032-1.75zM7 5.116V5a1 1 0 0 0-1-1H3.28a1 1 0 0 0-.97 1.243l.311 1.242A2 2 0 0 0 4.561 8H5a2 2 0 0 0 1.994-1.839A2.99 2.99 0 0 1 8 6c.393 0 .74.064 1.006.161A2 2 0 0 0 11 8h.438a2 2 0 0 0 1.94-1.515l.311-1.242A1 1 0 0 0 12.72 4H10a1 1 0 0 0-1 1v.116A4.22 4.22 0 0 0 8 5c-.35 0-.69.04-1 .116z\"/>\n        //                       <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-1 0A7 7 0 1 0 1 8a7 7 0 0 0 14 0z\"/>\n        //                     </svg>\n        //                     <span style={{margin:\"10px\"}}>{comment.roll}</span>\n        //                     <small class=\"text-muted\" >- 2 minutes ago</small>\n        //                     <a href=\"#\" style={{marginLeft:\"350px\"}}>\n        //                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\n        //                       <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\n        //                       <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\n        //                       </svg>\n        //                     </a>  \n        //                     <p>\n        //                     <span style={{marginLeft:\"35px\",marginRight:\"50px\"}}>{comment.comment}</span>\n        //                     </p>\n        //                     <hr/>\n        //                         </>\n        //                    )\n        //                })}\n        //              </div>\n        //              <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" style={{marginTop:\"50vh\",marginRight:\"0px\"}}>\n        //   <div class=\"modal-dialog\">\n        //     <div class=\"modal-content\">\n        //       <div class=\"modal-body\">\n        //         <form>\n        //           <div class=\"mb-3\">\n        //             <input value={comment} onChange={e=>setComment(e.target.value)}type=\"text\" class=\"form-control\" id=\"recipient-name\" placeholder=\"Add a public comment... \"/>\n        //           </div>\n        //         </form>\n        //       </div>\n        //       <div class=\"modal-footer\">\n        //       <button  type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        //         <button onClick={()=>commenthandler(post._id)} type=\"button\" class=\"btn btn-primary\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-telegram\" viewBox=\"0 0 16 16\">\n        //   <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.287 5.906c-.778.324-2.334.994-4.666 2.01-.378.15-.577.298-.595.442-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294.26.006.549-.1.868-.32 2.179-1.471 3.304-2.214 3.374-2.23.05-.012.12-.026.166.016.047.041.042.12.037.141-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8.154 8.154 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629.093.06.183.125.27.187.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.426 1.426 0 0 0-.013-.315.337.337 0 0 0-.114-.217.526.526 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09z\"/>\n        // </svg></button>\n        //       </div>\n        //     </div>\n        //   </div>\n        // </div>\n        //            </div>\n        //        </div>\n        // </div>\n        //       </div>\n        //     </div>\n        // </div>\n        // </div>\n        ;\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(Community, \"6EuMeNEC9tLlauUWIY8o35F+2oQ=\");\n\n_c = Community;\nexport default Community;\n\nvar _c;\n\n$RefreshReg$(_c, \"Community\");","map":{"version":3,"sources":["/Users/abhishekswaraj/Desktop/Alumni-System/client/src/components/Community.js"],"names":["React","useState","useEffect","useContext","Button","userEvent","axios","AddPost","authContext","Community","user","posts","setPosts","comment","setComment","get","then","data","reverse","catch","e","console","log","likehandler","id","unlikehandler","commenthandler","put","deletehandler","delete","length","map","post","width","padding","border","name","time","slice","content","likes","includes","_id","comments","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React ,{useState, useEffect,useContext}from 'react'\nimport Button from '@material-ui/core/Button';\nimport userEvent from '@testing-library/user-event';\nimport axios from 'axios';\nimport AddPost from './AddPost';\nimport authContext from '../context/AuthContext';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap/dist/js/bootstrap.min.js';\nfunction Community() {\n    const {user}=useContext(authContext);\n    const [posts, setPosts] = useState([]);\n    const [comment, setComment] = useState('');\n    useEffect(async () => {\n       await axios.get('http://localhost:8080/allposts')\n       .then((data)=>setPosts(data.data.reverse()))\n       .catch((e)=>console.log(e))\n    }, [posts])\n    const likehandler=(async (id)=>{\n        await axios.get('http://localhost:8080/like/'+id)\n        .then((data)=>setPosts(data.data.reverse()))\n        .catch((e)=>console.log(e));\n    })\n    const unlikehandler=(async (id)=>{\n        await axios.get('http://localhost:8080/unlike/'+id)\n        .then((data)=>setPosts(data.data.reverse()))\n        .catch((e)=>console.log(e));\n    })\n    const commenthandler=(async (id)=>{\n            await axios.put('http://localhost:8080/addcomment/'+id,{comment})\n            .then((data)=>{\n                setPosts(data.data.reverse())\n                setComment('');\n            })\n            .catch(e=>console.log(e))\n    })\n    const deletehandler=(async (id)=>{\n        await axios.delete('http://localhost:8080/delete/'+id)\n        .then((data)=>setPosts(data.data))\n        .catch(e=>console.log(e))\n    })\n    return (\n        // style={{marginLeft:500,marginTop:20}}\n        <div >\n           <AddPost />\n           {posts.length===0 && <h3>Loading Posts</h3>}\n           {posts.map((post)=>{\n               return (\n                   <div style={{width:\"400px\",padding:\"5px\",border:\"2px solid black\"}}>\n                    {post.user.name}                  \n                    <h6>{post.time.slice(11,16)}</h6>\n                   <h4>{post.content}</h4>\n                   {\n                       post.likes.includes(user._id)?<button onClick={()=>unlikehandler(post._id)}>Unlike</button>\n                       :\n                       <button onClick={()=>likehandler(post._id)}>Like</button> \n                   }\n                    <br></br>\n                   {post.likes.length} likes {post.comments.length} comments\n                   <br></br>\n                   <form onSubmit={(e)=>{\n                       commenthandler(post._id)\n                       e.preventDefault();\n                       }\n                       }>\n                        <input type=\"text\" value={comment} onChange={(e)=>setComment(e.target.value)}></input>\n                        <button type=\"submit\">Add comment</button>   \n                   </form>\n                   <a href=\"#\" onClick={()=>deletehandler(post._id)}>Delete Post</a>\n                   </div>\n\n\n\n\n\n//                 <div>\n\n//       <div style={{display: 'flex',  justifyContent:'center', alignItems:'flex-start', height: '85vh',marginTop:\"20px\",backgroundColor:\"wheat\"}}>\n//       <div class=\"card\" style={{width:\"50%\"}}>\n//           <div class=\"card-header\">\n//                <h5>{post.user.name} </h5>\n//                <small class=\"text-muted\">{post.time.slice(11,16)}</small>\n//            </div>\n//       <div class=\"card-body\">\n//           <h5 class=\"card-title\">{post.content}</h5>\n//           {/* <p class=\"card-text\">I get palced in Google. Now I am very rich so I will gift a brand new FORTUNER to Tanmay and also I will give him job offer in my team</p> */}\n//           <br/>\n//           <span  style={{margin:'10px'}}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"gray\" class=\"bi bi-hand-thumbs-up-fill\" viewBox=\"0 0 16 16\" onClick={()=>likehandler(post._id)}>\n//           <path d=\"M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a9.84 9.84 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.163 3.163 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.82 4.82 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z\"/>\n//           </svg></span>\n//           <a href=\"\" style={{marginLeft:'30px'}}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"gray\" class=\"bi bi-hand-thumbs-down-fill\" viewBox=\"0 0 16 16\">\n//           <path d=\"M6.956 14.534c.065.936.952 1.659 1.908 1.42l.261-.065a1.378 1.378 0 0 0 1.012-.965c.22-.816.533-2.512.062-4.51.136.02.285.037.443.051.713.065 1.669.071 2.516-.211.518-.173.994-.68 1.2-1.272a1.896 1.896 0 0 0-.234-1.734c.058-.118.103-.242.138-.362.077-.27.113-.568.113-.856 0-.29-.036-.586-.113-.857a2.094 2.094 0 0 0-.16-.403c.169-.387.107-.82-.003-1.149a3.162 3.162 0 0 0-.488-.9c.054-.153.076-.313.076-.465a1.86 1.86 0 0 0-.253-.912C13.1.757 12.437.28 11.5.28H8c-.605 0-1.07.08-1.466.217a4.823 4.823 0 0 0-.97.485l-.048.029c-.504.308-.999.61-2.068.723C2.682 1.815 2 2.434 2 3.279v4c0 .851.685 1.433 1.357 1.616.849.232 1.574.787 2.132 1.41.56.626.914 1.28 1.039 1.638.199.575.356 1.54.428 2.591z\"/>\n//           </svg></a>\n//           <br/>\n//           <small class=\"text-muted\" style={{marginLeft:'15px',paddingTop:'10px', textDecorationColor:\"gray\"}}>{post.likes.length}</small>\n//           <small class=\"text-muted\"style={{marginLeft:'56px',paddingTop:'10px', textDecorationColor:\"gray\"}}>0</small>\n\n//       </div>\n//       <div style={{background: \"#f0f0f0\",paddingTop:\"7px\",paddingBottom:\"7px\"}}>\n//       <span class=\"card-text\"style={{marginLeft:'20px',marginRight:'15px'}}>Comments</span>\n//       <span class=\"card-text\" style={{marginRight:'510px'}}>{post.comments.length}</span>\n//       <a data-bs-toggle=\"collapse\" href=\"#collapseExample\" aria-expanded=\"false\" aria-controls=\"collapseExample\">\n//       <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-chevron-expand\" >\n//         <path fill-rule=\"evenodd\" d=\"M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z\"/>\n//       </svg>\n//       </a>\n//       <div class=\"collapse\" id=\"collapseExample\">\n//          <div class=\"card card-body\" style={{overflowY:\"scroll\", height:\"30vh\"}}>\n//             Remember to keep comments respectful\n//             <div class=\"mb-3\">\n//              <label for=\"exampleFormControlInput1\" class=\"form-label\"></label>\n//              <div style={{\"marginTop\":\"5px\",\"marginBottom\":\"15px\"}}>\n//              <button type=\"button\" class=\"btn btn-light\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" data-bs-whatever=\"@mdo\" >\n//              Add a Comment\n//              </button>\n//              </div>\n//              <div>\n//                {post.comments.map((comment)=>{\n//                    return (\n//                         <>\n//                     <hr/>\n//                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-emoji-sunglasses\" viewBox=\"0 0 16 16\">\n//                       <path d=\"M4.968 9.75a.5.5 0 1 0-.866.5A4.498 4.498 0 0 0 8 12.5a4.5 4.5 0 0 0 3.898-2.25.5.5 0 1 0-.866-.5A3.498 3.498 0 0 1 8 11.5a3.498 3.498 0 0 1-3.032-1.75zM7 5.116V5a1 1 0 0 0-1-1H3.28a1 1 0 0 0-.97 1.243l.311 1.242A2 2 0 0 0 4.561 8H5a2 2 0 0 0 1.994-1.839A2.99 2.99 0 0 1 8 6c.393 0 .74.064 1.006.161A2 2 0 0 0 11 8h.438a2 2 0 0 0 1.94-1.515l.311-1.242A1 1 0 0 0 12.72 4H10a1 1 0 0 0-1 1v.116A4.22 4.22 0 0 0 8 5c-.35 0-.69.04-1 .116z\"/>\n//                       <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-1 0A7 7 0 1 0 1 8a7 7 0 0 0 14 0z\"/>\n//                     </svg>\n//                     <span style={{margin:\"10px\"}}>{comment.roll}</span>\n//                     <small class=\"text-muted\" >- 2 minutes ago</small>\n//                     <a href=\"#\" style={{marginLeft:\"350px\"}}>\n//                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\n//                       <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\n//                       <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\n//                       </svg>\n//                     </a>  \n//                     <p>\n//                     <span style={{marginLeft:\"35px\",marginRight:\"50px\"}}>{comment.comment}</span>\n//                     </p>\n//                     <hr/>\n//                         </>\n//                    )\n//                })}\n//              </div>\n        \n//              <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" style={{marginTop:\"50vh\",marginRight:\"0px\"}}>\n//   <div class=\"modal-dialog\">\n//     <div class=\"modal-content\">\n//       <div class=\"modal-body\">\n//         <form>\n//           <div class=\"mb-3\">\n//             <input value={comment} onChange={e=>setComment(e.target.value)}type=\"text\" class=\"form-control\" id=\"recipient-name\" placeholder=\"Add a public comment... \"/>\n//           </div>\n//         </form>\n//       </div>\n//       <div class=\"modal-footer\">\n//       <button  type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n//         <button onClick={()=>commenthandler(post._id)} type=\"button\" class=\"btn btn-primary\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-telegram\" viewBox=\"0 0 16 16\">\n//   <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.287 5.906c-.778.324-2.334.994-4.666 2.01-.378.15-.577.298-.595.442-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294.26.006.549-.1.868-.32 2.179-1.471 3.304-2.214 3.374-2.23.05-.012.12-.026.166.016.047.041.042.12.037.141-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8.154 8.154 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629.093.06.183.125.27.187.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.426 1.426 0 0 0-.013-.315.337.337 0 0 0-.114-.217.526.526 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09z\"/>\n// </svg></button>\n//       </div>\n//     </div>\n//   </div>\n// </div>\n//            </div>\n//        </div>\n\n\n// </div>\n//       </div>\n//     </div>\n    \n\n// </div>\n// </div>\n\n\n\n\n\n\n\n\n\n\n\n               )\n           })}\n\n\n\n\n\n\n\n           \n        </div>\n    )\n}\n\nexport default Community\n"]},"metadata":{},"sourceType":"module"}