{"ast":null,"code":"var _jsxFileName = \"/Users/abhishekswaraj/Desktop/Alumni-System/client/src/components/Post.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect, useContext } from 'react';\nimport AuthContext from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Post(props) {\n  _s();\n\n  const id = props.match.params.id;\n  const [post, setPost] = useState({});\n  const {\n    user\n  } = useContext(AuthContext);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    async function fecthPost() {\n      await axios.get('http://localhost:8080/post/' + id).then(data => console.log(data.data)).catch(e => console.log(e));\n    }\n\n    fecthPost();\n  }, []);\n\n  const likehandler = async id => {\n    await axios.get('http://localhost:8080/like/' + id).then(data => setPost(data.data[0])).catch(e => console.log(e));\n  };\n\n  const unlikehandler = async id => {\n    await axios.get('http://localhost:8080/unlike/' + id).then(data => setPost(data.data[0])).catch(e => console.log(e));\n  };\n\n  const commenthandler = async id => {\n    await axios.put('http://localhost:8080/addcomment/' + id, {\n      comment\n    }).then(data => setPost(data.data[0])).catch(e => console.log(e));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \" */}\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Post, \"x5BC3Zo2ECURpL7upZjA2RwvNlM=\");\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/abhishekswaraj/Desktop/Alumni-System/client/src/components/Post.js"],"names":["axios","React","useState","useEffect","useContext","AuthContext","Post","props","id","match","params","post","setPost","user","comment","setComment","fecthPost","get","then","data","console","log","catch","e","likehandler","unlikehandler","commenthandler","put"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAmCC,UAAnC,QAAoD,OAApD;AACA,OAAOC,WAAP,MAAwB,wBAAxB;;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AACjB,QAAMC,EAAE,GAACD,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBF,EAA5B;AACA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAACW,IAAAA;AAAD,MAAOT,UAAU,CAACC,WAAD,CAAvB;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,EAAD,CAAtC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAea,SAAf,GACA;AACI,YAAMhB,KAAK,CAACiB,GAAN,CAAU,gCAA8BT,EAAxC,EACLU,IADK,CACCC,IAAD,IAAQC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACA,IAAjB,CADR,EAELG,KAFK,CAEEC,CAAD,IAAKH,OAAO,CAACC,GAAR,CAAYE,CAAZ,CAFN,CAAN;AAGH;;AACDP,IAAAA,SAAS;AACZ,GARQ,EAQN,EARM,CAAT;;AASA,QAAMQ,WAAW,GAAE,MAAOhB,EAAP,IAAY;AAC3B,UAAMR,KAAK,CAACiB,GAAN,CAAU,gCAA8BT,EAAxC,EACLU,IADK,CACCC,IAAD,IAAQP,OAAO,CAACO,IAAI,CAACA,IAAL,CAAU,CAAV,CAAD,CADf,EAELG,KAFK,CAEEC,CAAD,IAAKH,OAAO,CAACC,GAAR,CAAYE,CAAZ,CAFN,CAAN;AAGH,GAJD;;AAKA,QAAME,aAAa,GAAE,MAAOjB,EAAP,IAAY;AAC7B,UAAMR,KAAK,CAACiB,GAAN,CAAU,kCAAgCT,EAA1C,EACLU,IADK,CACCC,IAAD,IAAQP,OAAO,CAACO,IAAI,CAACA,IAAL,CAAU,CAAV,CAAD,CADf,EAELG,KAFK,CAEEC,CAAD,IAAKH,OAAO,CAACC,GAAR,CAAYE,CAAZ,CAFN,CAAN;AAGH,GAJD;;AAKA,QAAMG,cAAc,GAAE,MAAOlB,EAAP,IAAY;AAC1B,UAAMR,KAAK,CAAC2B,GAAN,CAAU,sCAAoCnB,EAA9C,EAAiD;AAACM,MAAAA;AAAD,KAAjD,EACLI,IADK,CACCC,IAAD,IAAQP,OAAO,CAACO,IAAI,CAACA,IAAL,CAAU,CAAV,CAAD,CADf,EAELG,KAFK,CAECC,CAAC,IAAEH,OAAO,CAACC,GAAR,CAAYE,CAAZ,CAFJ,CAAN;AAGP,GAJD;;AAKA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA4BH;;GAzDQjB,I;;KAAAA,I;AA2DT,eAAeA,IAAf","sourcesContent":["import axios from 'axios';\nimport React ,{useState, useEffect,useContext} from 'react'\nimport AuthContext from '../context/AuthContext';\n\nfunction Post(props) {\n    const id=props.match.params.id;\n    const [post, setPost] = useState({});\n    const {user}=useContext(AuthContext);\n    const [comment, setComment] = useState('');\n    useEffect(() => {\n        async function fecthPost()\n        {\n            await axios.get('http://localhost:8080/post/'+id)\n            .then((data)=>console.log(data.data))\n            .catch((e)=>console.log(e));\n        }\n        fecthPost();\n    }, [])\n    const likehandler=(async (id)=>{\n        await axios.get('http://localhost:8080/like/'+id)\n        .then((data)=>setPost(data.data[0]))\n        .catch((e)=>console.log(e));\n    })\n    const unlikehandler=(async (id)=>{\n        await axios.get('http://localhost:8080/unlike/'+id)\n        .then((data)=>setPost(data.data[0]))\n        .catch((e)=>console.log(e));\n    })\n    const commenthandler=(async (id)=>{\n            await axios.put('http://localhost:8080/addcomment/'+id,{comment})\n            .then((data)=>setPost(data.data[0]))\n            .catch(e=>console.log(e))\n    })\n    return (\n        <div>\n            {/* {post && <div style={{width:\"400px\",padding:\"5px\",border:\"2px solid black\"}}>\n                    {post.user.name}\n                    <h6>{post.time.slice(11,16)}</h6>\n                   <h4>{post.content}</h4>\n                   {\n                       post.likes.includes(user._id)?<button onClick={()=>unlikehandler(post._id)}>Unlike</button>\n                       :\n                       <button onClick={()=>likehandler(post._id)}>Like</button> \n                   }\n                    <br></br>\n                   {post.likes.length} likes {post.comments.length} comments\n                   <br></br>\n                   {/* {post.comments.map((comment)=>{\n                       return ({comment.roll} {Comment.comment});\n                   })} */}\n                   {/* <form onSubmit={(e)=>{\n                       commenthandler(post._id)\n                       e.preventDefault();\n                       }\n                       }>\n                        <input type=\"text\" value={comment} onChange={(e)=>setComment(e.target.value)}></input>\n                        <button type=\"submit\">Add comment</button>\n                   </form>\n                   </div>} */} */}\n        </div>\n    )\n}\n\nexport default Post\n"]},"metadata":{},"sourceType":"module"}