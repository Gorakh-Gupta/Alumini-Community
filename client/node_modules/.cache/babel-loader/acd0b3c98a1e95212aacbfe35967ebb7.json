{"ast":null,"code":"var _jsxFileName = \"/Users/abhishekswaraj/Desktop/Alumni-System/client/src/components/Post.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect, useContext } from 'react';\nimport AuthContext from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Post(props) {\n  _s();\n\n  const id = props.match.params.id;\n  const [post, setPost] = useState({});\n  const {\n    user\n  } = useContext(AuthContext);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    async function fecthPost() {\n      await axios.get('http://localhost:8080/post/' + id).then(data => {\n        console.log(data.data[0]);\n        setPost(data.data[0]);\n      }).catch(e => console.log(e));\n    }\n\n    fecthPost();\n  }, []);\n\n  const likehandler = async id => {// await axios.get('http://localhost:8080/like/'+id)\n    // .then((data)=>setPost(data.data[0]))\n    // .catch((e)=>console.log(e));\n  };\n\n  const unlikehandler = async id => {// await axios.get('http://localhost:8080/unlike/'+id)\n    // .then((data)=>setPost(data.data[0]))\n    // .catch((e)=>console.log(e));\n  };\n\n  const commenthandler = async id => {// await axios.put('http://localhost:8080/addcomment/'+id,{comment})\n    // .then((data)=>setPost(data.data[0]))\n    // .catch(e=>console.log(e))\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [JSON.stringify(post) !== JSON.stringify({}) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"400px\",\n        padding: \"5px\",\n        border: \"2px solid black\"\n      },\n      children: [post.user.name, /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: post.time.slice(11, 16)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: post.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }, this), post.likes.includes(user._id) ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => unlikehandler(post._id),\n        children: \"Unlike\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 54\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => likehandler(post._id),\n        children: \"Like\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), post.likes.length, \" likes \", post.comments.length, \" comments\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 20\n      }, this), post.comments.map(comment => {\n        return /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: comment.roll\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 32\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          commenthandler(post._id);\n          e.preventDefault();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: comment,\n          onChange: e => setComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Add comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 61\n    }, this), post.name]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Post, \"x5BC3Zo2ECURpL7upZjA2RwvNlM=\");\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/abhishekswaraj/Desktop/Alumni-System/client/src/components/Post.js"],"names":["axios","React","useState","useEffect","useContext","AuthContext","Post","props","id","match","params","post","setPost","user","comment","setComment","fecthPost","get","then","data","console","log","catch","e","likehandler","unlikehandler","commenthandler","JSON","stringify","width","padding","border","name","time","slice","content","likes","includes","_id","length","comments","map","roll","preventDefault","target","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React ,{useState, useEffect,useContext} from 'react'\nimport AuthContext from '../context/AuthContext';\n\nfunction Post(props) {\n    const id=props.match.params.id;\n    const [post, setPost] = useState({});\n    const {user}=useContext(AuthContext);\n    const [comment, setComment] = useState('');\n    useEffect(() => {\n        async function fecthPost()\n        {\n            await axios.get('http://localhost:8080/post/'+id)\n            .then((data)=>{\n                console.log(data.data[0])\n                setPost(data.data[0])\n            })\n            .catch((e)=>console.log(e));\n        }\n        fecthPost();\n    }, [])\n    const likehandler=(async (id)=>{\n        // await axios.get('http://localhost:8080/like/'+id)\n        // .then((data)=>setPost(data.data[0]))\n        // .catch((e)=>console.log(e));\n    })\n    const unlikehandler=(async (id)=>{\n        // await axios.get('http://localhost:8080/unlike/'+id)\n        // .then((data)=>setPost(data.data[0]))\n        // .catch((e)=>console.log(e));\n    })\n    const commenthandler=(async (id)=>{\n            // await axios.put('http://localhost:8080/addcomment/'+id,{comment})\n            // .then((data)=>setPost(data.data[0]))\n            // .catch(e=>console.log(e))\n    })\n    return (\n        <div>\n            {JSON.stringify(post) !== JSON.stringify({}) && <div style={{width:\"400px\",padding:\"5px\",border:\"2px solid black\"}}>\n                    {post.user.name}\n                    <h6>{post.time.slice(11,16)}</h6>\n                   <h4>{post.content}</h4>\n                   {\n                       post.likes.includes(user._id)?<button onClick={()=>unlikehandler(post._id)}>Unlike</button>\n                       :\n                       <button onClick={()=>likehandler(post._id)}>Like</button> \n                   }\n                    <br></br>\n                   {post.likes.length} likes {post.comments.length} comments\n                   <br></br>\n                   {post.comments.map((comment)=>{\n                       return (<h6>{comment.roll}</h6>);\n                   })}\n                        <form onSubmit={(e)=>{\n                       commenthandler(post._id)\n                       e.preventDefault();\n                       }\n                       }>\n                        <input type=\"text\" value={comment} onChange={(e)=>setComment(e.target.value)}></input>\n                        <button type=\"submit\">Add comment</button>\n                   </form>\n                   </div>}\n                    {post.name}\n        </div>\n    )\n}\n\nexport default Post\n"]},"metadata":{},"sourceType":"module"}